
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sales Analytics Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f9f9f9; }
    h2 { text-align: center; }
    form { margin-bottom: 20px; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
    input, button { padding: 8px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background: #eee; }
    .charts { display: flex; justify-content: space-around; flex-wrap: wrap; margin-top: 20px; gap: 20px; }
    canvas { background: white; padding: 10px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
  </style>
</head>
<body>
  <h2>ðŸ“Š Sales Analytics Dashboard</h2>

  <!-- Form to add product -->
  <form id="salesForm">
    <input type="text" id="product" placeholder="Product Name" required>
    <input type="number" id="quantity" placeholder="Quantity" required>
    <input type="number" id="price" placeholder="Price" required>
    <input type="date" id="date" required>
    <button type="submit">Add Sale</button>
  </form>

  <!-- Table to display sales data -->
  <table id="salesTable">
    <thead>
      <tr>
        <th>Product</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Date</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!-- Charts -->
  <div class="charts">
    <canvas id="barChart" width="400" height="300"></canvas>
    <canvas id="pieChart" width="400" height="300"></canvas>
  </div>

  <script>
    // Load saved data from localStorage
    let salesData = JSON.parse(localStorage.getItem("salesData")) || [];

    const salesForm = document.getElementById("salesForm");
    const salesTableBody = document.querySelector("#salesTable tbody");

    // Charts
    const barCtx = document.getElementById("barChart").getContext("2d");
    const pieCtx = document.getElementById("pieChart").getContext("2d");

    let barChart = new Chart(barCtx, {
      type: "bar",
      data: { labels: [], datasets: [{ label: "Total Sales", data: [], backgroundColor: "rgba(54, 162, 235, 0.7)" }] },
    });

    let pieChart = new Chart(pieCtx, {
      type: "pie",
      data: { labels: [], datasets: [{ data: [], backgroundColor: ["#ff6384","#36a2eb","#ffce56","#4bc0c0","#9966ff"] }] },
    });

    // Render table
    function renderTable() {
      salesTableBody.innerHTML = "";
      salesData.forEach(sale => {
        let row = `<tr>
          <td>${sale.product}</td>
          <td>${sale.quantity}</td>
          <td>${sale.price}</td>
          <td>${sale.date}</td>
        </tr>`;
        salesTableBody.innerHTML += row;
      });
    }

    // Update charts
    function updateCharts() {
      let productTotals = {};
      salesData.forEach(sale => {
        if (!productTotals[sale.product]) {
          productTotals[sale.product] = 0;
        }
        productTotals[sale.product] += sale.quantity * sale.price;
      });

      let labels = Object.keys(productTotals);
      let values = Object.values(productTotals);

      barChart.data.labels = labels;
      barChart.data.datasets[0].data = values;
      barChart.update();

      pieChart.data.labels = labels;
      pieChart.data.datasets[0].data = values;
      pieChart.update();
    }

    // Save data to localStorage
    function saveData() {
      localStorage.setItem("salesData", JSON.stringify(salesData));
    }

    // Add sale event
    salesForm.addEventListener("submit", function(e) {
      e.preventDefault();
      const product = document.getElementById("product").value;
      const quantity = parseInt(document.getElementById("quantity").value);
      const price = parseFloat(document.getElementById("price").value);
      const date = document.getElementById("date").value;

      salesData.push({ product, quantity, price, date });
      saveData();
      renderTable();
      updateCharts();
      salesForm.reset();
    });

    // Initial render
    renderTable();
    updateCharts();
  </script>
</body>
</html>
